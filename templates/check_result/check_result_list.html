{% extends "check_result/check_result_layout.html" %}
{% block header_describe %}{% endblock %}
{% block teaser %}{% endblock %}
{% block media %}
<link href="{{ MEDIA_URL }}css/auto_complete/jquery.autocomplete.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="{{ MEDIA_URL }}js/jquery-ui-1.8.6.custom.min.js"></script>
<script type="text/javascript" src="{{ MEDIA_URL }}js/jquery.autocomplete.min.js"></script>
<script type="text/javascript" src="{{ MEDIA_URL }}js/file_upload/ajaxupload.js"></script>
<script type="text/javascript">
$(document).ready(function(){
                $.getJSON("{% url service_area_name_ajax %}",
                          {
                          },
                          function(data) {
                                  $("#id_service_area_name").autocomplete(data, {
                                          minChars: 0,
                                                          max: 12,
//                                                          autoFill: true,
//                                                          mustMatch: true,
                                                          matchContains: true,
                                                          scrollHeight: 220,
                                                          formatItem: function(data, i, total) {
                                                          // don't show the current month in the list of values (for whatever reason)
                                                          //if ( data[0] == months[new Date().getMonth()] ) 
                                                          //return false;
                                                          return data[0];
                                                  }
                                          });
                                  $("#id_mate_service_area_name").autocomplete(data, {
                                          minChars: 0,
                                                          max: 12,
//                                                          autoFill: true,
//                                                          mustMatch: true,
                                                          matchContains: true,
                                                          scrollHeight: 220,
                                                          formatItem: function(data, i, total) {
                                                          // don't show the current month in the list of values (for whatever reason)
                                                          //if ( data[0] == months[new Date().getMonth()] ) 
                                                          //return false;
                                                          return data[0];
                                                  }
                                          });

                          });
                $("#id_service_area_name").blur(function() {
                                service_area_name_old = '';
                                service_area_name = $("#id_service_area_name").val();
                                if (service_area_name != '' && service_area_name != service_area_name_old)
                                {
//                                        alert('********');
                                        service_area_name_old = service_area_name;
                                        $("#id_department_name").unautocomplete();
                                        $.getJSON("{% url department_name_ajax %}",
                                                  {
                                                  service_area_name :$("#id_service_area_name").val()
                                                                  },
                                                  function(data) {
                                                          $("#id_department_name").autocomplete(data, {
                                                                  minChars: 0,
                                                                                  max: 12,
//                                                          autoFill: true,
//                                                          mustMatch: true,
                                                                                  matchContains: true,
                                                                                  scrollHeight: 220,
                                                                                  formatItem: function(data, i, total) {
                                                                                  // don't show the current month in the list of values (for whatever reason)
                                                                                  //if ( data[0] == months[new Date().getMonth()] ) 
                                                                                  //return false;
                                                                                  return data[0];
                                                                          }
                                                                  });

                                                  });

                                }
                                
                        });
                $("#id_mate_service_area_name").blur(function() {
                                mate_service_area_name_old = '';
                                mate_service_area_name = $("#id_mate_service_area_name").val();
                                if (mate_service_area_name != '' && mate_service_area_name != mate_service_area_name_old)
                                {
//                                        alert('********');
                                        mate_service_area_name_old = mate_service_area_name;
                                        $("#id_mate_department_name").unautocomplete();
                                        $.getJSON("{% url department_name_ajax %}",
                                                  {
                                                  service_area_name :$("#id_mate_service_area_name").val()
                                                                  },
                                                  function(data) {
                                                          $("#id_mate_department_name").autocomplete(data, {
                                                                  minChars: 0,
                                                                                  max: 12,
//                                                          autoFill: true,
//                                                          mustMatch: true,
                                                                                  matchContains: true,
                                                                                  scrollHeight: 220,
                                                                                  formatItem: function(data, i, total) {
                                                                                  // don't show the current month in the list of values (for whatever reason)
                                                                                  //if ( data[0] == months[new Date().getMonth()] ) 
                                                                                  //return false;
                                                                                  return data[0];
                                                                          }
                                                                  });

                                                  });

                                }
                                
                        });
        });
</script>
{% endblock %}

{% block col1_content %}
<h6 class="vlist">检查结果管理</h6>
<ul class="vlist">
  <li class="active"><strong>检查结果查询</strong></li>
  <li><a href="{% url check_result_add 1 %}">检查结果添加</a></li>
  <li><a href="{% url check_object_list 1 %}">进入系统</a></li>
</ul>
{% endblock %}
{% block col3_content %}
<h3>检查结果查询</h3>
<hr>
<div class="important">
  {% with search_form as form %}
  <form method="get" action="." class="yform full" id="id_form_add">{% csrf_token %}
    <div class="note">
      <fieldset>
        <legend>检查结果信息</legend>
        <div class="subcolumns">
          <div class="c75l">
            <div class="subc">
              <!-- Insert your subtemplate content here -->
              <div class="subcolumns">
                <div class="c50l">
                  <div class="subc">
                    <!-- Insert your subtemplate content here -->
                    {% if form.name.errors %}
                    <div class="type-text error">
                      <strong class="message">{{ form.name.errors }}</strong>
                      {{ form.name.label_tag }}<p class="dimmed">{{ form.name.help_text}}</p>
                      {{ form.name }}
                    </div>
                    {% else %}
                    <div class="type-text">
                      {{ form.name.label_tag }}<p class="dimmed">{{ form.name.help_text}}</p>
                      {{ form.name }}
                    </div>
                    {% endif %}
                    {% if form.service_area_name.errors %}
                    <div class="type-text error">
                      <strong class="message">{{ form.service_area_name.errors }}</strong>
                      {{ form.service_area_name.label_tag }}<p class="dimmed">{{ form.service_area_name.help_text}}</p>
                      {{ form.service_area_name }}
                    </div>
                    {% else %}
                    <div class="type-text">
                      {{ form.service_area_name.label_tag }}<p class="dimmed">{{ form.service_area_name.help_text}}</p>
                      {{ form.service_area_name }}
                    </div>
                    {% endif %}
                  </div>
                </div>
                <div class="c50r">
                  <div class="subc">
                    <!-- Insert your subtemplate content here -->
                    {% if form.id_number.errors %}
                    <div class="type-text error">
                      <strong class="message">{{ form.id_number.errors }}</strong>
                      {{ form.id_number.label_tag }}<p class="dimmed">{{ form.id_number.help_text}}</p>
                      {{ form.id_number }}
                    </div>
                    {% else %}
                    <div class="type-text">
                      {{ form.id_number.label_tag }}<p class="dimmed">{{ form.id_number.help_text}}</p>
                      {{ form.id_number }}
                    </div>
                    {% endif %}
                    {% if form.department_name.errors %}
                    <div class="type-text error">
                      <strong class="message">{{ form.department_name.errors }}</strong>
                      {{ form.department_name.label_tag }}<p class="dimmed">{{ form.department_name.help_text}}</p>
                      {{ form.department_name }}
                    </div>
                    {% else %}
                    <div class="type-text">
                      {{ form.department_name.label_tag }}<p class="dimmed">{{ form.department_name.help_text}}</p>
                      {{ form.department_name }}
                    </div>
                    {% endif %}
                  </div>
                </div>
              </div>          
            </div>          
          </div>         
          <div class="c25r">
            <div class="subc">
              <!-- Insert your subtemplate content here -->
              {% if form.wedding_time.errors %}
              <div class="type-text error">
                <strong class="message">{{ form.wedding_time.errors }}</strong>
                {{ form.wedding_time.label_tag }}<p class="dimmed">{{ form.wedding_time.help_text}}</p>
                {{ form.wedding_time }}
              </div>
              {% else %}
              <div class="type-text">
                {{ form.wedding_time.label_tag }}<p class="dimmed">{{ form.wedding_time.help_text}}</p>
                {{ form.wedding_time }}
              </div>
              {% endif %}
              <div class="subcolumns">
                <div class="c50l">
                  <div class="subc">
                    {% if form.is_family.errors %}
                    <div class="type-select error">
                      <strong class="message">{{ form.is_family.errors }}</strong>
                      {{ form.is_family.label_tag }}<br><p class="dimmed">{{ form.is_family.help_text}}</p><br>
                      {{ form.is_family }}
                    </div>
                    {% else %}
                    <div class="type-select">
                      {{ form.is_family.label_tag }}<br><p class="dimmed">{{ form.is_family.help_text}}</p>
                      {{ form.is_family }}
                    </div>
                    {% endif %}

                  </div>
                </div>
                <div class="c50r">
                  <div class="subc">
                    {% if form.is_fuzzy.errors %}
                    <div class="type-check error">
                      <strong class="message">{{ form.is_fuzzy.errors }}</strong>
                      {{ form.is_fuzzy.label_tag }}<p class="dimmed">{{ form.is_fuzzy.help_text}}</p>
                      {{ form.is_fuzzy }}
                    </div>
                    {% else %}
                    <div class="type-check">
                      {{ form.is_fuzzy.label_tag }}<br><p class="dimmed">{{ form.is_fuzzy.help_text}}</p><br>
                      {{ form.is_fuzzy }}
                    </div>
                    {% endif %}

                  </div>
                </div>
              </div>
            </div>          
          </div>         
        </div>       
      </fieldset>
    </div>   
    <div class="subcolumns">
      <div class="c75l">
        <div class="subc note">
          <!-- Insert your subtemplate content here -->
          <fieldset>
            <legend>对象配偶信息</legend>
            <div class="subcolumns">
              <div class="c50l">
                <div class="subc">
                  <!-- Insert your subtemplate content here -->
                  {% if form.mate_name.errors %}
                  <div class="type-text error">
                    <strong class="message">{{ form.mate_name.errors }}</strong>
                    {{ form.mate_name.label_tag }}<p class="dimmed">{{ form.mate_name.help_text}}</p>
                    {{ form.mate_name }}
                  </div>
                  {% else %}
                  <div class="type-text">
                    {{ form.mate_name.label_tag }}<p class="dimmed">{{ form.mate_name.help_text}}</p>
                    {{ form.mate_name }}
                  </div>
                  {% endif %}
                  {% if form.mate_service_area_name.errors %}
                  <div class="type-text error">
                    <strong class="message">{{ form.mate_service_area_name.errors }}</strong>
                    {{ form.mate_service_area_name.label_tag }}<p class="dimmed">{{ form.mate_service_area_name.help_text}}</p>
                    {{ form.mate_service_area_name }}
                  </div>
                  {% else %}
                  <div class="type-text">
                    {{ form.mate_service_area_name.label_tag }}<p class="dimmed">{{ form.mate_service_area_name.help_text}}</p>
                    {{ form.mate_service_area_name }}
                  </div>
                  {% endif %}
                </div>
              </div>
              <div class="c50r">
                <div class="subc">
                  <!-- Insert your subtemplate content here -->
                  {% if form.mate_id_number.errors %}
                  <div class="type-text error">
                    <strong class="message">{{ form.mate_id_number.errors }}</strong>
                    {{ form.mate_id_number.label_tag }}<p class="dimmed">{{ form.mate_id_number.help_text}}</p>
                    {{ form.mate_id_number }}
                  </div>
                  {% else %}
                  <div class="type-text">
                    {{ form.mate_id_number.label_tag }}<p class="dimmed">{{ form.mate_id_number.help_text}}</p>
                    {{ form.mate_id_number }}
                  </div>
                  {% endif %}
                  {% if form.mate_department_name.errors %}
                  <div class="type-text error">
                    <strong class="message">{{ form.mate_department_name.errors }}</strong>
                    {{ form.mate_department_name.label_tag }}<p class="dimmed">{{ form.mate_department_name.help_text}}</p>
                    {{ form.mate_department_name }}
                  </div>
                  {% else %}
                  <div class="type-text">
                    {{ form.mate_department_name.label_tag }}<p class="dimmed">{{ form.mate_department_name.help_text}}</p>
                    {{ form.mate_department_name }}
                  </div>
                  {% endif %}
                </div>
              </div>
            </div>          
          </fieldset>        
        </div>          
      </div>         
      <div class="c25r">
        <div class="subc note">
          <!-- Insert your subtemplate content here -->
          <fieldset>
            <legend>避孕措施信息</legend>
            <!-- Insert your subtemplate content here -->
            <br>
            {% if form.ctp_method.errors %}
            <div class="type-select error">
              <strong class="message">{{ form.ctp_method.errors }}</strong>
              {{ form.ctp_method.label_tag }}<p class="dimmed">{{ form.ctp_method.help_text }}</p>
              {{ form.ctp_method }}
            </div>
            {% else %}
            <div class="type-select">
              {{ form.ctp_method.label_tag }}<p class="dimmed">{{ form.ctp_method.help_text }}</p>
              {{ form.ctp_method }}
            </div>
            {% endif %}
            {% if form.ctp_method_time.errors %}
            <div class="type-text error">
              <strong class="message">{{ form.ctp_method_time.errors }}</strong>
              {{ form.ctp_method_time.label_tag }}<p class="dimmed">{{ form.ctp_method_time.help_text }}</p>
              {{ form.ctp_method_time }}
            </div>
            {% else %}
            <div class="type-text">
              {{ form.ctp_method_time.label_tag }}<p class="dimmed">{{ form.ctp_method_time.help_text }}</p>
              {{ form.ctp_method_time }}
            </div>
            {% endif %}
          </fieldset>
          
        </div>          
      </div>         
    </div>
    <div class="note">
    <fieldset>
      <legend>对象配偶信息</legend>

    <div class="subcolumns">
      <div class="c60l">
        <div class="subc">
          <div class="subcolumns">
            <div class="c40l">
              <div class="subc">
                

              {% if form.pregnant.errors %}
              <div class="type-text error">
                <strong class="message">{{ form.pregnant.errors }}</strong>
                {{ form.pregnant.label_tag }}<p class="dimmed">{{ form.pregnant.help_text }}</p>
                {{ form.pregnant }}
              </div>
              {% else %}
              <div class="type-text">
                {{ form.pregnant.label_tag }}<p class="dimmed">{{ form.pregnant.help_text }}</p>
                {{ form.pregnant }}
              </div>
              {% endif %}
              {% if form.ring.errors %}
              <div class="type-text error">
                <strong class="message">{{ form.ring.errors }}</strong>
                {{ form.ring.label_tag }}<p class="dimmed">{{ form.ring.help_text }}</p>
                {{ form.ring }}
              </div>
              {% else %}
              <div class="type-text">
                {{ form.ring.label_tag }}<p class="dimmed">{{ form.ring.help_text }}</p>
                {{ form.ring }}
              </div>
              {% endif %}

              </div>
            </div>
            <div class="c60r">
              <div class="subc">
              {% if form.pregnant_period.errors %}
              <div class="type-text error">
                <strong class="message">{{ form.pregnant_period.errors }}</strong>
                {{ form.pregnant_period.label_tag }}<p class="dimmed">{{ form.pregnant_period.help_text }}</p>
                {{ form.pregnant_period }}
              </div>
              {% else %}
              <div class="type-text">
                {{ form.pregnant_period.label_tag }}<p class="dimmed">{{ form.pregnant_period.help_text }}</p>
                {{ form.pregnant_period }}
              </div>
              {% endif %}
              {% if form.check_project.errors %}
              <div class="type-text error">
                <strong class="message">{{ form.check_project.errors }}</strong>
                {{ form.check_project.label_tag }}<p class="dimmed">{{ form.check_project.help_text }}</p>
                {{ form.check_project }}
              </div>
              {% else %}
              <div class="type-text">
                {{ form.check_project.label_tag }}<p class="dimmed">{{ form.check_project.help_text }}</p>
                {{ form.check_project }}
              </div>
              {% endif %}

              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="c40r">
        <div class="subc">
          <div class="subcolumns">
            <div class="c50l">
              <div class="subc">
              {% if form.checker.errors %}
              <div class="type-text error">
                <strong class="message">{{ form.checker.errors }}</strong>
                {{ form.checker.label_tag }}<p class="dimmed">{{ form.checker.help_text }}</p>
                {{ form.checker }}
              </div>
              {% else %}
              <div class="type-text">
                {{ form.checker.label_tag }}<p class="dimmed">{{ form.checker.help_text }}</p>
                {{ form.checker }}
              </div>
              {% endif %}
              {% if form.recorder.errors %}
              <div class="type-text error">
                <strong class="message">{{ form.recorder.errors }}</strong>
                {{ form.recorder.label_tag }}<p class="dimmed">{{ form.recorder.help_text }}</p>
                {{ form.recorder }}
              </div>
              {% else %}
              <div class="type-text">
                {{ form.recorder.label_tag }}<p class="dimmed">{{ form.recorder.help_text }}</p>
                {{ form.recorder }}
              </div>
              {% endif %}

              </div>
            </div>
            <div class="c50r">
              <div class="subc">
                              {% if form.start_time.errors %}
              <div class="type-text error">
                <strong class="message">{{ form.start_time.errors }}</strong>
                {{ form.start_time.label_tag }}<p class="dimmed">{{ form.start_time.help_text }}</p>
                {{ form.start_time }}
              </div>
              {% else %}
              <div class="type-text">
                {{ form.start_time.label_tag }}<p class="dimmed">{{ form.start_time.help_text }}</p>
                {{ form.start_time }}
              </div>
              {% endif %}
              {% if form.end_time.errors %}
              <div class="type-text error">
                <strong class="message">{{ form.end_time.errors }}</strong>
                {{ form.end_time.label_tag }}<p class="dimmed">{{ form.end_time.help_text }}</p>
                {{ form.end_time }}
              </div>
              {% else %}
              <div class="type-text">
                {{ form.end_time.label_tag }}<p class="dimmed">{{ form.end_time.help_text }}</p>
                {{ form.end_time }}
              </div>
              {% endif %}

              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
    </fieldset>
    </div>
    <div class="center">

      <input type="submit"  name="submit" value="查询" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only  ui-state-"/>
      <input type="reset" value="重置" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only  ui-state-"/>
      <span id="id_submit_error"></span>
    </div>
  </form>
  {% endwith %}
</div>
<hr>
<div class="note">
  {% include 'check_result/check_result_table_list.html' %}
</div>
{% endblock %}





