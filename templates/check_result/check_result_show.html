{% extends "check_result/check_result_layout.html" %}
{% block header_describe %}{% endblock %}

{% block teaser %}
<div class="nav_hlist">
<ul>
  <li class="active"><strong>考勤结果详情</strong></li>
  <li><a href="{% url check_result_add 1 %}">考勤结果添加</a></li>
  <li><a href="{% url check_result_list 1 %}">考勤结果查询</a></li>
</ul>
</div>
{% endblock %}

{% block main %}
<hr>
<!-- Insert your subtemplate content here -->
{% if check_object %}

  <div class="subcolumns">
    <div class="c75l">
      <div class="subc">
        <table border="0" cellpadding="0" cellspacing="0" class="full">
          <caption>
            考勤对象
          </caption>
          <thead>
            <tr><th scope="col" colspan="2">{{ check_object.name }}</th></tr>
          </thead>
          <tbody>
            <tr>
              <td class="odd">考勤对象</td>
              <td class="odd">{{ check_object.name }}</td>
            </tr>
            <tr>
              <td>所属科室</td>
              <td>{{ check_object.department.name }}</td>
            </tr>
            <tr>
              <td>加班工资系数</td>
              <td>{{ check_object.profit }}</td>
            </tr>
            <tr>
              <td class="odd">创建人员</td>
              <td class="odd">{{ check_object.creater.username }}</td>
            </tr>
            <tr>
              <td>创建时间</td>
              <td>{{ check_object.created_at|date:"Y-m-d H:i:s" }}</td>
            </tr>
            <tr>
              <td class="odd">更新时间</td>
              <td class="odd">{{ check_object.updated_at|date:"Y-m-d H:i:s" }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="c25r">
      <div class="subc">
      </div>
    </div>
  </div>
<div>
<hr>
  <table border="0" cellpadding="0" cellspacing="0" class="full">
    <caption>考勤结果</caption>
    <thead>
      <tr><th scope="col" colspan="6">【{{ check_object.name }}】的考勤结果(共{{ results.count}}项)</th></tr>
    </thead>
    <tbody>
      <tr>
        <th scope="col">编号</th>
        <th scope="col">加班天数</th>
        <th scope="col">加班原因</th>
        <th scope="col">加班时间</th>
        <th scope="col">微机录入人员</th>
      </tr>
      {% for result in results %}
      <tr>
        <td>{{ forloop.counter }}</td>
	<td>{{ result.days }}</td>
        <td>{{ result.desc }}</td>
	<td>{{ result.check_time|date:"Y-m-d H:i:s" }}</td>
        <td>{{ result.recorder.username }}</td>
	
      </tr>
      {% empty %}
      <th scope="col" colspan="5"><p class="warning">没有考勤结果可以查询！</p></th>
      {% endfor %}
    </tbody>
  </table>

</div>
{% else %}
<p class="warning">对不起，该考勤对象不存在！</p>
{% endif %}
{% endblock %}

